# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
ComponentDefinitions:
  bar_pagination:
    DefinitionType: CanvasComponent
    AllowCustomization: true
    CustomProperties:
      Items_4_Pagination:
        PropertyKind: Input
        DisplayName: Items_4_Pagination
        Description: 사용자 지정 속성
        DataType: Table
        Default: |-
          =Table({
              Title: "Text" , 
              ID: 10 , 
              field_1 : "Text" 
              })
      Num_Page_Last_Output:
        PropertyKind: Output
        DisplayName: Num_Page_Last_Output
        Description: 사용자 지정 속성
        DataType: Number
      Number_Page_Output:
        PropertyKind: Output
        DisplayName: Number_Page_Output
        Description: 사용자 지정 속성
        DataType: Number
      Size_Font:
        PropertyKind: Input
        DisplayName: Size_Font
        Description: 사용자 지정 속성
        DataType: Number
        Default: =13
      Start_Timer:
        PropertyKind: Input
        DisplayName: Start_Timer
        Description: 사용자 지정 속성
        DataType: Boolean
        Default: =true
    Properties:
      Height: =Self.Size_Font*3
      Num_Page_Last_Output: =_comp_num_last_page
      Number_Page_Output: =_comp_number_page
    Children:
      - Timer1:
          Control: Timer@2.1.0
          Properties:
            AutoPause: =false
            BorderColor: =ColorFade(Self.Fill, -15%)
            Color: =RGBA(255, 255, 255, 1)
            DisabledBorderColor: =ColorFade(Self.BorderColor, 70%)
            DisabledColor: =ColorFade(Self.Fill, 90%)
            DisabledFill: =ColorFade(Self.Fill, 70%)
            Duration: =100
            Fill: =RGBA(56, 96, 178, 1)
            Font: =Font.'Open Sans'
            HoverBorderColor: =ColorFade(Self.BorderColor, 20%)
            HoverColor: =RGBA(255, 255, 255, 1)
            HoverFill: =ColorFade(RGBA(56, 96, 178, 1), -20%)
            OnSelect: =
            OnTimerEnd: |
              =
              Set(
                  _comp_number_page,
                  1
              );
              Set(
                  _comp_num_last_page,
                  IfError(
                      RoundUp(
                          IfError(
                          CountRows(bar_pagination.Items_4_Pagination) /Dropdown1_13.Selected.Value,0),
                          0
                      ),
                      0
                  )
              ) ; 
            PressedBorderColor: =Self.Fill
            PressedColor: =Self.Fill
            PressedFill: =Self.Color
            Start: =bar_pagination.Start_Timer
            Visible: =false
            X: =40
            Y: =39
      - Container1_4_1_1_2_17:
          Control: GroupContainer@1.4.0
          Variant: ManualLayout
          Properties:
            DropShadow: =DropShadow.None
            Height: =Parent.Height
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Visible: '=true '
            Width: =Parent.Width
            X: =Parent.X
            Y: =Parent.Y*0
          Children:
            - Dropdown1_13:
                Control: Classic/DropDown@2.3.1
                Properties:
                  BorderColor: =RGBA(166, 166, 166, 1)
                  BorderThickness: =0
                  ChevronBackground: =RGBA(0, 0, 0, 0)
                  ChevronFill: =RGBA(246, 88, 16, 1)
                  ChevronHoverBackground: =ColorFade(RGBA(56, 96, 178, 1), -20%)
                  ChevronHoverFill: =RGBA(255, 255, 255, 1)
                  Default: =
                  Font: =Font.'Open Sans'
                  Height: =Parent.Height*0.9
                  HoverFill: =RGBA(186, 202, 226, 1)
                  Items: =[5,10,15,20,50]
                  Items.Value: =Value
                  OnChange: |-
                    =
                    Set(
                        _comp_number_page,
                        1
                    );
                    Set(
                        _comp_num_last_page,
                        IfError(
                            RoundUp(
                                IfError(
                                CountRows(bar_pagination.Items_4_Pagination) /Dropdown1_13.Selected.Value,0),
                                0
                            ),
                            0
                        )
                    ) ; 
                    /*
                    ClearCollect(_filtered_col_master_data, 
                    ForAll(Sequence(CountRows(_filtered_col_master_data)), Patch(Last(FirstN(_filtered_col_master_data,Value)),{_50_:Text( Value , "00" ) }))
                     ) ; 
                     */
                  PaddingBottom: =5
                  PaddingLeft: =5
                  PaddingRight: =5
                  PaddingTop: =5
                  PressedColor: =RGBA(255, 255, 255, 1)
                  PressedFill: =RGBA(0, 18, 107, 1)
                  SelectionColor: =RGBA(255, 255, 255, 1)
                  SelectionFill: =RGBA(56, 96, 178, 1)
                  Size: =bar_pagination.Size_Font
                  Width: =Self.Height*2.5
                  X: =Parent.Width/100
                  Y: =Parent.Height/2 - Self.Height/2
            - Gallery1_41:
                Control: Gallery@2.15.0
                Variant: Horizontal
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Height: =Parent.Height*0.9
                  Items: =Sequence(9)
                  ShowScrollbar: =false
                  TemplatePadding: =0
                  TemplateSize: =Self.Width/Self.AllItemsCount
                  Width: =Parent.Width/10*3.5
                  X: =Parent.Width/2 - Self.Width/2
                  Y: =Parent.Height/2 - Self.Height/2
                Children:
                  - TextInput1_25:
                      Control: Classic/TextInput@2.3.2
                      Properties:
                        Align: =Align.Center
                        BorderColor: =RGBA(0, 18, 107, 1)
                        BorderThickness: =0
                        Default: |-
                          =If( ThisItem.Value = 1 , "<<" ,  If( ThisItem.Value = 3 , "<" ,

                           If( ThisItem.Value = 5 , Text(_comp_number_page) & " / " & _comp_num_last_page ,  


                          If( ThisItem.Value = 7 , ">" ,  If( ThisItem.Value = 9 , ">>" )))))
                        DisplayMode: |-
                          =If( _comp_number_page = 1 &&  ThisItem.Value = 3 , DisplayMode.Disabled ,  
                          If( Text(_comp_number_page) = Text(_comp_num_last_page) && ThisItem.Value = 7 , DisplayMode.Disabled   ,  
                          DisplayMode.Edit ))
                        Font: =Font.'Open Sans'
                        FontWeight: |-
                          =If( ThisItem.Value = 5 , FontWeight.Bold ,
                          FontWeight.Normal 
                          )
                        Height: =Parent.TemplateHeight
                        HoverBorderColor: =RGBA(0, 18, 107, 1)
                        HoverFill: =RGBA(186, 202, 226, 1)
                        OnSelect: "=If( ThisItem.Value = 1 , Set( _comp_number_page , 1  ) ,\nIf( ThisItem.Value = 3 , Set( _comp_number_page , _comp_number_page - 1  ) , \nIf( ThisItem.Value = 7 , Set( _comp_number_page , _comp_number_page + 1  ) ,\nIf( ThisItem.Value = 9 , Set( _comp_number_page , _comp_num_last_page  ) \n))))\n\n;\n\nSet(_comp_rows_to_subtract,Dropdown1_13.Selected.Value*(_comp_number_page-1)) ; "
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =bar_pagination.Size_Font
                        Width: =Parent.TemplateWidth
                        X: =Parent.TemplateWidth/2 - Self.Width/2
                        Y: =Parent.TemplateHeight/2 - Self.Height/2
                  - Rectangle3_22:
                      Control: Rectangle@2.3.0
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =Parent.TemplateHeight
                        OnSelect: "=If( ThisItem.Value = 1 , Set( _comp_number_page , 1  ) ,\n// 현재 페이지 번호가 1이 아니라면 \nIf( ThisItem.Value = 3 && Text(_comp_number_page) <> \"1\" , \nSet( _comp_number_page , _comp_number_page - 1  ) , \n// 현재 페이지 번호와 마지막 페이지 번호가 다르면 현재 페이지 번호 + 1 \nIf( ThisItem.Value = 7 && Text(_comp_number_page) <> Text(_comp_num_last_page) , \nSet( _comp_number_page , _comp_number_page + 1  ) ,\nIf( ThisItem.Value = 9 , Set( _comp_number_page , _comp_num_last_page  ) \n))))\n;\n\nSet(_comp_rows_to_subtract,Dropdown1_13.Selected.Value*(_comp_number_page-1)) ; "
                        Width: =Parent.TemplateWidth
                        X: =Parent.TemplateWidth/2 - Self.Width/2
                        Y: =Parent.TemplateHeight/2 - Self.Height/2
            - Label6_35:
                Control: Label@2.5.1
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Font: =Font.'Open Sans'
                  Height: =Dropdown1_13.Height
                  Size: =bar_pagination.Size_Font
                  Text: ="개씩 보기"
                  Width: =Dropdown1_13.Width
                  X: =Dropdown1_13.X + Dropdown1_13.Width
                  Y: =Dropdown1_13.Y
