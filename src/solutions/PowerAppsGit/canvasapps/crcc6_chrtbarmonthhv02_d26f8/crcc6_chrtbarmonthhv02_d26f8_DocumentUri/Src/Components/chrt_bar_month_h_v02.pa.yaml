# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
ComponentDefinitions:
  chrt_bar_month_h_v02:
    DefinitionType: CanvasComponent
    AllowCustomization: true
    CustomProperties:
      Color_Bar:
        PropertyKind: Input
        DisplayName: Color_Bar
        Description: A custom property
        DataType: Text
        Default: ="#8a8a8a"
      Color_Container_Front:
        PropertyKind: Input
        DisplayName: Color_Container_Front
        Description: A custom property
        DataType: Text
        Default: ="#ffffff"
      Color_Container_Rear:
        PropertyKind: Input
        DisplayName: Color_Container_Rear
        Description: A custom property
        DataType: Text
        Default: ="#8a8a8a"
      Color_Font:
        PropertyKind: Input
        DisplayName: Color_Font
        Description: A custom property
        DataType: Text
        Default: ="#222222"
      Fill_BackGround:
        PropertyKind: Input
        DisplayName: Fill_BackGround
        Description: 사용자 지정 속성
        DataType: Color
        Default: '=ColorValue("#222222") '
      IsTrue_DarkMode:
        PropertyKind: Input
        DisplayName: IsTrue_DarkMode
        Description: 사용자 지정 속성
        DataType: Boolean
        Default: =false
      IsTrue_DropShadow:
        PropertyKind: Input
        DisplayName: IsTrue_DropShadow
        Description: 사용자 지정 속성
        DataType: Boolean
        Default: =true
      Items_2_Show:
        PropertyKind: Input
        DisplayName: Items_2_Show
        Description: 사용자 지정 속성
        DataType: Table
        Default: |
          =Table(
              { ChartItem: 1 , ChartValue: 120 },
              { ChartItem: 2 , ChartValue: 85 },
              { ChartItem: 3 , ChartValue: 150 },
              { ChartItem: 4 , ChartValue: 60 }, 
              { ChartItem: 5 , ChartValue: 120 },
              { ChartItem: 6 , ChartValue: 85 },
              { ChartItem: 7 , ChartValue: 150 },
              { ChartItem: 8 , ChartValue: 60 }, 
              { ChartItem: 9 , ChartValue: 120 },
              { ChartItem: 10 , ChartValue: 85 },
              { ChartItem: 11 , ChartValue: 150 },
              { ChartItem: 12 , ChartValue: 60 }
          )
      OnSelect_Chart:
        PropertyKind: Event
        DisplayName: OnSelect_Chart
        Description: 사용자 지정 속성
        ReturnType: None
        Default: =
      Size_Font:
        PropertyKind: Input
        DisplayName: Size_Font
        Description: 사용자 지정 속성
        DataType: Number
        Default: =13
      Title_Chart:
        PropertyKind: Input
        DisplayName: Title_Chart
        Description: 사용자 지정 속성
        DataType: Text
        Default: ="텍스트"
      Width_Bar:
        PropertyKind: Input
        DisplayName: Width_Bar
        Description: 사용자 지정 속성
        DataType: Number
        Default: =100
      Width_Item:
        PropertyKind: Input
        DisplayName: Width_Item
        Description: 사용자 지정 속성
        DataType: Number
        Default: =100
      _selected_item_input:
        PropertyKind: Input
        DisplayName: _selected_item_input
        Description: 사용자 지정 속성
        DataType: Number
        Default: =12
      _selected_item_output:
        PropertyKind: Output
        DisplayName: _selected_item_output
        Description: 사용자 지정 속성
        DataType: Number
    Properties:
      Fill: =If( chrt_bar_month_h_v02.IsTrue_DarkMode , ColorFade(chrt_bar_month_h_v02.Fill_BackGround,-20%) , Color.White )
      Height: =App.DesignHeight/10*4
      _selected_item_output: =_var_selected_item_chart
    Children:
      - Container3_23:
          Control: GroupContainer@1.4.0
          Variant: ManualLayout
          Properties:
            BorderColor: =RGBA(116, 116, 116, 1)
            BorderThickness: =1
            Fill: =ColorValue(chrt_bar_month_h_v02.Color_Container_Rear)
            Height: =Container3_24.Height
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Visible: |-
              =If( chrt_bar_month_h_v02.IsTrue_DarkMode , false , 
                  If( chrt_bar_month_h_v02.IsTrue_DropShadow , false,  true ))
            Width: =Container3_24.Width
            X: =Container3_24.X + 5
            Y: =Container3_24.Y + 5
      - Container3_24:
          Control: GroupContainer@1.4.0
          Variant: ManualLayout
          Properties:
            BorderColor: =RGBA(116, 116, 116, 1)
            BorderThickness: =If( chrt_bar_month_h_v02.IsTrue_DropShadow , 0 , 1 )
            DropShadow: =DropShadow.Regular
            Fill: =ColorValue(chrt_bar_month_h_v02.Color_Container_Front)
            Height: =Parent.Height - Self.Y - Self.X
            RadiusBottomLeft: =10
            RadiusBottomRight: =10
            RadiusTopLeft: =10
            RadiusTopRight: =10
            Width: =Parent.Width - Self.X*2
            X: =10
            Y: =Label7_9.Y*2+ Label7_9.Height
          Children:
            - Gallery15_2:
                Control: Gallery@2.15.0
                Variant: VariableHeight
                Properties:
                  BorderColor: =RGBA(0, 18, 107, 1)
                  Height: =Parent.Height - Self.Y*2
                  Items: =chrt_bar_month_h_v02.Items_2_Show
                  ShowScrollbar: =false
                  TemplatePadding: =0
                  TemplateSize: =Self.Height/12
                  Width: =Parent.Width - Self.X*2
                  X: =5
                  Y: =5
                Children:
                  - Rectangle37_3:
                      Control: Rectangle@2.3.0
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Fill: |-
                          =If( chrt_bar_month_h_v02.IsTrue_DarkMode ,
                              If(
                                  IsBlank(chrt_bar_month_h_v02._selected_item_input), 
                                  Color.Transparent ,
                                  If(
                                      chrt_bar_month_h_v02._selected_item_input = ThisItem.ChartItem , ColorFade(chrt_bar_month_h_v02.Fill_BackGround,-60%), Color.Transparent
                                  )
                              )
                              ,
                              If(
                                  IsBlank(chrt_bar_month_h_v02._selected_item_input), 
                                  Color.Transparent ,
                                  If(
                                      chrt_bar_month_h_v02._selected_item_input = ThisItem.ChartItem , ColorFade(ColorValue("#f65810"),95%), ColorFade(ColorValue("#e0e0e0"),95%)
                                  )
                              )
                          )
                        Height: =Parent.TemplateHeight
                        OnSelect: =
                        Width: =Parent.TemplateWidth
                  - chart_month_1:
                      Control: Label@2.5.1
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Color: "=\n    If( IsBlank(chrt_bar_month_h_v02._selected_item_input) , \n        ColorValue(chrt_bar_month_h_v02.Color_Font)\n        ,\n        If( chrt_bar_month_h_v02._selected_item_input = ThisItem.ChartItem , \n        ColorValue(chrt_bar_month_h_v02.Color_Font)\n        ,\n        ColorFade( ColorValue(chrt_bar_month_h_v02.Color_Font) , 30%)\n        )\n    )\n  "
                        Font: =Font.'Open Sans'
                        FontWeight: |-
                          =
                          If( IsBlank(chrt_bar_month_h_v02._selected_item_input) , 
                              FontWeight.Semibold,
                              If( chrt_bar_month_h_v02._selected_item_input = ThisItem.ChartItem , 
                              FontWeight.Bold,
                              FontWeight.Normal
                              )
                          )
                        Height: =Parent.TemplateHeight
                        OnSelect: =Select(Parent)
                        Size: |-
                          =If( IsBlank(chrt_bar_month_h_v02._selected_item_input) , 
                              chrt_bar_month_h_v02.Size_Font*0.9,
                              If( chrt_bar_month_h_v02._selected_item_input = ThisItem.ChartItem , 
                              chrt_bar_month_h_v02.Size_Font,
                              chrt_bar_month_h_v02.Size_Font*0.8
                              )
                          )
                        Text: =ThisItem.ChartItem & "월"
                        Width: =chrt_bar_month_h_v02.Width_Item
                        X: =Parent.X*0
                        Y: =Parent.TemplateHeight/2 - Self.Height/2
                  - bar_rear_2:
                      Control: Classic/TextInput@2.3.2
                      Properties:
                        BorderColor: =RGBA(116, 116, 116, 1)
                        BorderThickness: =1
                        Default: =
                        Fill: =ColorFade(ColorValue(chrt_bar_month_h_v02.Color_Bar),50%)
                        Font: =Font.'Open Sans'
                        Height: =bar_front_2.Height
                        HoverBorderColor: =RGBA(0, 18, 107, 1)
                        HoverFill: =RGBA(186, 202, 226, 1)
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =bar_front_2.RadiusBottomRight
                        RadiusTopLeft: =0
                        RadiusTopRight: =bar_front_2.RadiusTopRight
                        Visible: |-
                          =If( Or( chrt_bar_month_h_v02.IsTrue_DarkMode , chrt_bar_month_h_v02.IsTrue_DropShadow ) , false ,
                          If( bar_front_2.Width=0 , false , true))
                        Width: =bar_front_2.Width
                        X: =bar_front_2.X+1
                        Y: =bar_front_2.Y - 1
                  - bar_front_2:
                      Control: Classic/TextInput@2.3.2
                      Properties:
                        BorderColor: =If( chrt_bar_month_h_v02.IsTrue_DarkMode , ColorValue("#ffffff") , ColorValue("#6a6a6a") )
                        BorderThickness: =1
                        Default: =
                        Fill: |-
                          =
                              If( IsBlank(chrt_bar_month_h_v02._selected_item_input) , 
                                  ColorValue(chrt_bar_month_h_v02.Color_Bar)
                                  ,
                                  If( chrt_bar_month_h_v02._selected_item_input = ThisItem.ChartItem , 
                                  ColorValue(chrt_bar_month_h_v02.Color_Bar)
                                  ,
                                  ColorFade(ColorValue(chrt_bar_month_h_v02.Color_Bar),90%)
                                  )
                              )
                        Font: =Font.'Open Sans'
                        Height: |-
                          =If( IsBlank(chrt_bar_month_h_v02._selected_item_input) , 
                              Parent.TemplateHeight/6*2
                              ,
                              If( chrt_bar_month_h_v02._selected_item_input = ThisItem.ChartItem , 
                              Parent.TemplateHeight/6*2*1.2
                              ,
                              Parent.TemplateHeight/6*2*0.8
                              )
                          )
                        HoverBorderColor: =RGBA(0, 18, 107, 1)
                        HoverFill: =RGBA(186, 202, 226, 1)
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =3
                        RadiusTopLeft: =0
                        RadiusTopRight: =3
                        Visible: =!(Self.Width=0)
                        Width: =IfError(ThisItem.ChartValue/Sum(chrt_bar_month_h_v02.Items_2_Show,ChartValue),0)*(chrt_bar_month_h_v02.Width_Bar/10*2.5)
                        X: '=chart_month_1.X + chart_month_1.Width '
                        Y: =chart_month_1.Y + chart_month_1.Height/2 - Self.Height/2
                  - line_2:
                      Control: Classic/TextInput@2.3.2
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        BorderThickness: =0
                        Default: =
                        Fill: =If( chrt_bar_month_h_v02.IsTrue_DarkMode , Color.White , Color.Black )
                        Font: =Font.'Open Sans'
                        Height: =1
                        HoverBorderColor: =RGBA(0, 18, 107, 1)
                        HoverFill: =RGBA(186, 202, 226, 1)
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =bar_front_2.Width/10*4
                        X: '=bar_front_2.X + bar_front_2.Width '
                        Y: =chart_month_1.Y + chart_month_1.Height/2 - Self.Height/2
                  - Circle1_2:
                      Control: Circle@2.3.0
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Fill: =If( chrt_bar_month_h_v02.IsTrue_DarkMode , Color.White , Color.Black )
                        Height: =chrt_bar_month_h_v02.Size_Font*0.5
                        OnSelect: =
                        Width: =Self.Height
                        X: =line_2.X + line_2.Width
                        Y: =line_2.Y + line_2.Height/2 - Self.Height/2
                  - Label7_7:
                      Control: Label@2.5.1
                      Properties:
                        Align: =Align.Right
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Color: =chart_month_1.Color
                        Font: =Font.'Open Sans'
                        FontWeight: =chart_month_1.FontWeight
                        Height: =Parent.TemplateHeight
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =chart_month_1.Size*0.9
                        Text: =Text( ThisItem.ChartValue , "#,# ")
                        Visible: =!(bar_front_2.Width=0)
                        Width: =(Parent.TemplateWidth - Self.X)/10*6
                        X: =Circle1_2.X + Circle1_2.Width*1.5
                  - Label7_8:
                      Control: Label@2.5.1
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Color: =chart_month_1.Color
                        Font: =Font.'Open Sans'
                        FontWeight: =chart_month_1.FontWeight
                        Height: =Label7_7.Height
                        OnSelect: =Select(Parent)
                        Size: =chart_month_1.Size*0.8
                        Text: =Text(IfError(ThisItem.ChartValue/Sum(chrt_bar_month_h_v02.Items_2_Show,ChartValue)*100,0),"(0.00%)")
                        Visible: =!(bar_front_2.Width=0)
                        Width: =Parent.TemplateWidth - Self.X
                        X: =Label7_7.X + Label7_7.Width
                  - Rectangle36_2:
                      Control: Rectangle@2.3.0
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Fill: |-
                          =If( chrt_bar_month_h_v02.IsTrue_DarkMode , 
                              ColorFade( chrt_bar_month_h_v02.Fill_BackGround , 10%) , ColorFade( chrt_bar_month_h_v02.Fill_BackGround , 80%)
                          )
                        Height: =1
                        OnSelect: =Select(Parent)
                        Width: =Parent.TemplateWidth
                        Y: =chart_month_1.Y + chart_month_1.Height - Self.Height
                  - Rectangle25_2:
                      Control: Rectangle@2.3.0
                      Properties:
                        BorderColor: =RGBA(0, 18, 107, 1)
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =Parent.TemplateHeight
                        OnSelect: |-
                          =If( _var_selected_item_chart = ThisItem.ChartItem , 
                              Set( _var_selected_item_chart , Blank() ) , 
                              Set( _var_selected_item_chart , ThisItem.ChartItem )
                          );

                          chrt_bar_month_h_v02.OnSelect_Chart() ;
                        Width: =Parent.TemplateWidth
                        X: =Parent.Height*0
                        Y: =Parent.Height*0
      - Label7_9:
          Control: Label@2.5.1
          Properties:
            BorderColor: =RGBA(0, 18, 107, 1)
            Color: =If( chrt_bar_month_h_v02.IsTrue_DarkMode , Color.White , Color.Black )
            Fill: =Color.Transparent
            Font: =Font.'Open Sans'
            FontWeight: =FontWeight.Bold
            Height: =If( Or( IsBlank(Self.Text) , Self.Text = "" ) , 0 , Self.Size*2 )
            Size: =Parent.Size_Font*1.1
            Text: =Parent.Title_Chart
            Width: =Parent.Width - Self.X*2
            X: =10
            Y: =Self.X/2
